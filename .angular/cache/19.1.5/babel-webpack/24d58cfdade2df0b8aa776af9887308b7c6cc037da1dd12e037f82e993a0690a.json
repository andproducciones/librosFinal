{"ast":null,"code":"import _asyncToGenerator from \"C:/proyectosIONIC/librosFinal2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _LibrosPage;\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { LibroPage } from '../libro/libro.page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/libros/libros.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\nfunction LibrosPage_ion_card_41_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-card\")(1, \"ion-card-header\")(2, \"ion-card-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-card-subtitle\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"ion-card-content\")(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 13);\n    i0.ɵɵelement(10, \"ion-icon\", 14);\n    i0.ɵɵelementStart(11, \"span\", 15);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 16)(14, \"ion-button\", 17);\n    i0.ɵɵlistener(\"click\", function LibrosPage_ion_card_41_Template_ion_button_click_14_listener() {\n      const libro_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.verResenas(libro_r2.id));\n    });\n    i0.ɵɵelement(15, \"ion-icon\", 5);\n    i0.ɵɵtext(16, \" Rese\\u00F1as \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"ion-button\", 18);\n    i0.ɵɵlistener(\"click\", function LibrosPage_ion_card_41_Template_ion_button_click_17_listener() {\n      const libro_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editarLibro(libro_r2.id));\n    });\n    i0.ɵɵelement(18, \"ion-icon\", 19);\n    i0.ɵɵtext(19, \" Editar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"ion-button\", 20);\n    i0.ɵɵlistener(\"click\", function LibrosPage_ion_card_41_Template_ion_button_click_20_listener() {\n      const libro_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.eliminarLibro(libro_r2.id));\n    });\n    i0.ɵɵelement(21, \"ion-icon\", 21);\n    i0.ɵɵtext(22, \" Eliminar \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const libro_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(libro_r2.titulo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", libro_r2.autor, \" - \", libro_r2.anio_publicacion, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(libro_r2.descripcion);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", libro_r2.valoracion, \"/10\");\n  }\n}\nexport class LibrosPage {\n  constructor(router, librosService, modalCtrl) {\n    this.router = router;\n    this.librosService = librosService;\n    this.modalCtrl = modalCtrl;\n    this.nombreUsuario = 'Usuario'; // Nombre por defecto\n    this.libros = [{\n      id: 1,\n      titulo: \"Cien años de soledad\",\n      autor: \"Gabriel García Márquez\",\n      anio_publicacion: 1967,\n      descripcion: \"Una obra maestra de la literatura latinoamericana que narra la historia de la familia Buendía en el pueblo ficticio de Macondo.\"\n    }, {\n      id: 2,\n      titulo: \"1984\",\n      autor: \"George Orwell\",\n      anio_publicacion: 1949,\n      descripcion: \"Una novela distópica que presenta un futuro totalitario bajo la vigilancia constante del Gran Hermano.\"\n    }, {\n      id: 3,\n      titulo: \"Don Quijote de la Mancha\",\n      autor: \"Miguel de Cervantes\",\n      anio_publicacion: 1605,\n      descripcion: \"La historia del caballero Don Quijote y su escudero Sancho Panza en su lucha por la justicia y la aventura.\"\n    }, {\n      id: 4,\n      titulo: \"Orgullo y prejuicio\",\n      autor: \"Jane Austen\",\n      anio_publicacion: 1813,\n      descripcion: \"Una novela romántica sobre el amor y el matrimonio en la sociedad inglesa del siglo XIX.\"\n    }, {\n      id: 5,\n      titulo: \"El señor de los anillos\",\n      autor: \"J.R.R. Tolkien\",\n      anio_publicacion: 1954,\n      descripcion: \"Una de las obras de fantasía más influyentes, que sigue la lucha entre el bien y el mal en la Tierra Media.\"\n    }, {\n      id: 6,\n      titulo: \"Crimen y castigo\",\n      autor: \"Fiódor Dostoyevski\",\n      anio_publicacion: 1866,\n      descripcion: \"Un thriller psicológico sobre un joven que comete un asesinato y lucha con su conciencia.\"\n    }, {\n      id: 7,\n      titulo: \"El alquimista\",\n      autor: \"Paulo Coelho\",\n      anio_publicacion: 1988,\n      descripcion: \"Una novela inspiradora sobre la importancia de seguir los sueños y encontrar el destino.\"\n    }, {\n      id: 8,\n      titulo: \"Harry Potter y la piedra filosofal\",\n      autor: \"J.K. Rowling\",\n      anio_publicacion: 1997,\n      descripcion: \"El comienzo de la historia de Harry Potter y su ingreso al mundo de la magia en Hogwarts.\"\n    }, {\n      id: 9,\n      titulo: \"Los juegos del hambre\",\n      autor: \"Suzanne Collins\",\n      anio_publicacion: 2008,\n      descripcion: \"Una novela de ciencia ficción donde jóvenes deben luchar por su supervivencia en una competencia mortal.\"\n    }, {\n      id: 10,\n      titulo: \"Rayuela\",\n      autor: \"Julio Cortázar\",\n      anio_publicacion: 1963,\n      descripcion: \"Una novela experimental que permite múltiples formas de lectura y aborda temas filosóficos y existenciales.\"\n    }];\n  }\n  ngOnInit() {\n    // Obtener datos del usuario desde el localStorage\n    const userData = localStorage.getItem('userData');\n    if (userData) {\n      const usuario = JSON.parse(userData);\n      this.nombreUsuario = usuario.nombre || 'Usuario';\n    }\n    this.cargarUsuario();\n    this.obtenerLibros();\n  }\n  cargarUsuario() {\n    const userData = localStorage.getItem('userData');\n    if (userData) {\n      const usuario = JSON.parse(userData);\n      this.nombreUsuario = usuario.nombre || 'Usuario';\n    }\n  }\n  obtenerLibros() {\n    this.librosService.obtenerLibros().subscribe(response => {\n      this.libros = response;\n    }, error => {\n      console.error('Error al obtener los libros', error);\n    });\n  }\n  verResenas(libroId) {\n    this.router.navigate(['/resenas', libroId]);\n  }\n  editarLibro(libroId) {\n    this.router.navigate(['/libro', libroId]);\n  }\n  eliminarLibro(libroId) {\n    // Lógica para eliminar un libro\n    this.librosService.eliminarLibro(libroId).subscribe(response => {\n      if (response.estado) {\n        this.libros = this.libros.filter(libro => libro.id !== libroId);\n        alert('Libro eliminado correctamente.');\n      } else {\n        alert('No se pudo eliminar el libro.');\n      }\n    });\n  }\n  abrirModalAgregarLibro() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this.modalCtrl.create({\n        component: LibroPage,\n        cssClass: 'modal-bottom',\n        backdropDismiss: false\n      });\n      yield modal.present(); // Asegurar que el modal se presente correctamente\n    })();\n  }\n  abrirModalEditarLibro(libro) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this2.modalCtrl.create({\n        component: LibroPage,\n        componentProps: {\n          libro\n        },\n        cssClass: 'modal-bottom',\n        // <-- Clase para abrir desde abajo\n        backdropDismiss: false\n      });\n      modal.onDidDismiss().then(() => _this2.obtenerLibros());\n      return modal.present();\n    })();\n  }\n  getStarArray(valoracion) {\n    const estrellas = [];\n    const valorRedondeado = Math.round(valoracion * 2) / 2; // Redondear a 0.5 más cercano\n    for (let i = 1; i <= 5; i++) {\n      if (i <= valorRedondeado) {\n        estrellas.push('star'); // Estrella llena ⭐\n      } else if (i - 0.5 === valorRedondeado) {\n        estrellas.push('star-half'); // Media estrella ✰\n      } else {\n        estrellas.push('star-outline'); // Estrella vacía ☆\n      }\n    }\n    return estrellas;\n  }\n  irPerfil() {\n    this.router.navigate(['/perfil']); // Navegar a la página de perfil\n  }\n  irLibros() {\n    this.router.navigate(['/libros']); // Navegar a la página de perfil\n  }\n  irResenas() {\n    this.router.navigate(['/resenas']); // Navegar a la página de perfil\n  }\n  cerrarSesion() {\n    localStorage.removeItem('userData'); // Eliminar datos de sesión\n    this.router.navigate(['/login']); // Redirigir al login\n  }\n}\n_LibrosPage = LibrosPage;\n_LibrosPage.ɵfac = function LibrosPage_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || _LibrosPage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.LibrosService), i0.ɵɵdirectiveInject(i3.ModalController));\n};\n_LibrosPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _LibrosPage,\n  selectors: [[\"app-libros\"]],\n  decls: 45,\n  vars: 2,\n  consts: [[\"contentId\", \"main-content\"], [1, \"ion-padding\"], [\"name\", \"person-circle-outline\", \"slot\", \"start\"], [3, \"click\"], [\"name\", \"book-outline\", \"slot\", \"start\"], [\"name\", \"star-outline\", \"slot\", \"start\"], [\"name\", \"person-outline\", \"slot\", \"start\"], [\"name\", \"log-out-outline\", \"slot\", \"start\"], [\"id\", \"main-content\", 1, \"ion-page\"], [\"slot\", \"start\"], [4, \"ngFor\", \"ngForOf\"], [\"vertical\", \"bottom\", \"horizontal\", \"end\", \"slot\", \"fixed\"], [\"name\", \"add-outline\", 2, \"color\", \"white\"], [1, \"rating\"], [\"name\", \"star\", 1, \"star-icon\"], [1, \"calificacion\"], [1, \"action-buttons\"], [\"expand\", \"block\", \"color\", \"primary\", 3, \"click\"], [\"expand\", \"block\", \"color\", \"secondary\", 3, \"click\"], [\"name\", \"create-outline\", \"slot\", \"start\"], [\"expand\", \"block\", \"color\", \"danger\", 3, \"click\"], [\"name\", \"trash-outline\", \"slot\", \"start\"]],\n  template: function LibrosPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-menu\", 0)(1, \"ion-header\")(2, \"ion-toolbar\")(3, \"ion-title\");\n      i0.ɵɵtext(4, \"Men\\u00FA\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(5, \"ion-content\", 1)(6, \"ion-list\")(7, \"ion-item\");\n      i0.ɵɵelement(8, \"ion-icon\", 2);\n      i0.ɵɵelementStart(9, \"ion-label\")(10, \"h2\");\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(12, \"ion-list-header\");\n      i0.ɵɵtext(13, \"Opciones\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"ion-item\", 3);\n      i0.ɵɵlistener(\"click\", function LibrosPage_Template_ion_item_click_14_listener() {\n        return ctx.irLibros();\n      });\n      i0.ɵɵelement(15, \"ion-icon\", 4);\n      i0.ɵɵelementStart(16, \"ion-label\");\n      i0.ɵɵtext(17, \"Libros\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"ion-item\", 3);\n      i0.ɵɵlistener(\"click\", function LibrosPage_Template_ion_item_click_18_listener() {\n        return ctx.irResenas();\n      });\n      i0.ɵɵelement(19, \"ion-icon\", 5);\n      i0.ɵɵelementStart(20, \"ion-label\");\n      i0.ɵɵtext(21, \"Rese\\u00F1as\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"ion-item\", 3);\n      i0.ɵɵlistener(\"click\", function LibrosPage_Template_ion_item_click_22_listener() {\n        return ctx.irPerfil();\n      });\n      i0.ɵɵelement(23, \"ion-icon\", 6);\n      i0.ɵɵelementStart(24, \"ion-label\");\n      i0.ɵɵtext(25, \"Perfil\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"ion-list-header\");\n      i0.ɵɵtext(27, \"Acciones\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"ion-item\", 3);\n      i0.ɵɵlistener(\"click\", function LibrosPage_Template_ion_item_click_28_listener() {\n        return ctx.cerrarSesion();\n      });\n      i0.ɵɵelement(29, \"ion-icon\", 7);\n      i0.ɵɵelementStart(30, \"ion-label\");\n      i0.ɵɵtext(31, \"Cerrar Sesi\\u00F3n\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(32, \"div\", 8)(33, \"ion-header\")(34, \"ion-toolbar\")(35, \"ion-buttons\", 9);\n      i0.ɵɵelement(36, \"ion-menu-button\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"ion-title\");\n      i0.ɵɵtext(38, \"Libros\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(39, \"ion-content\", 1)(40, \"ion-list\");\n      i0.ɵɵtemplate(41, LibrosPage_ion_card_41_Template, 23, 5, \"ion-card\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"ion-fab\", 11)(43, \"ion-fab-button\", 3);\n      i0.ɵɵlistener(\"click\", function LibrosPage_Template_ion_fab_button_click_43_listener() {\n        return ctx.abrirModalAgregarLibro();\n      });\n      i0.ɵɵelement(44, \"ion-icon\", 12);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵtextInterpolate(ctx.nombreUsuario);\n      i0.ɵɵadvance(30);\n      i0.ɵɵproperty(\"ngForOf\", ctx.libros);\n    }\n  },\n  dependencies: [IonicModule, i3.IonButton, i3.IonButtons, i3.IonCard, i3.IonCardContent, i3.IonCardHeader, i3.IonCardSubtitle, i3.IonCardTitle, i3.IonContent, i3.IonFab, i3.IonFabButton, i3.IonHeader, i3.IonIcon, i3.IonItem, i3.IonLabel, i3.IonList, i3.IonListHeader, i3.IonMenu, i3.IonMenuButton, i3.IonTitle, i3.IonToolbar, CommonModule, i4.NgForOf, FormsModule],\n  styles: [\"@charset \\\"UTF-8\\\";\\nion-content[_ngcontent-%COMP%] {\\n  --background: #ffffff;\\n}\\n\\nion-card[_ngcontent-%COMP%] {\\n  border-radius: 12px;\\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);\\n  background: transparent;\\n  margin: 1px;\\n  margin-bottom: 15px;\\n  padding: 0px;\\n  border: 0.5px solid rgba(202, 202, 202, 0.5);\\n}\\n\\nion-list[_ngcontent-%COMP%] {\\n  background-color: transparent;\\n  margin: 0px;\\n  padding: 0px;\\n}\\n\\nion-button[_ngcontent-%COMP%] {\\n  --background: #007bff;\\n  --border-radius: 5px;\\n}\\n\\n.rating[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  margin-bottom: 10px;\\n  justify-content: flex-end;\\n}\\n\\nion-icon[_ngcontent-%COMP%] {\\n  color: #000000;\\n  font-size: 1.5rem;\\n  margin-right: 3px;\\n}\\n\\n.rating[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] {\\n  color: #ffe600;\\n  font-size: 1.5rem;\\n  margin-right: 3px;\\n}\\n\\nion-fab-button[_ngcontent-%COMP%] {\\n  --background: #007bff;\\n  --color: white;\\n  --border-radius: 50%;\\n  font-size: 1.5rem;\\n}\\n\\nion-fab[_ngcontent-%COMP%] {\\n  position: fixed;\\n  bottom: 20px;\\n  right: 20px;\\n}\\n\\n.action-buttons[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 3px; \\n\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\nion-button[_ngcontent-%COMP%] {\\n  --border-radius: 5px; \\n\\n  font-size: 0.9rem;\\n  padding: 1px;\\n}\\n\\n.action-buttons[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] {\\n  color: white;\\n}\\n\\n.modal-bottom[_ngcontent-%COMP%] {\\n  --height: 70vh; \\n\\n  --border-radius: 15px 15px 0 0; \\n\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  animation: _ngcontent-%COMP%_slide-up 0.3s ease-in-out;\\n}\\n\\n\\n\\n@keyframes _ngcontent-%COMP%_slide-up {\\n  from {\\n    transform: translateY(100%);\\n  }\\n  to {\\n    transform: translateY(0);\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvbGlicm9zL2xpYnJvcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FBQ2hCO0VBQ0kscUJBQUE7QUFDSjs7QUFHRTtFQUNFLG1CQUFBO0VBQ0EseUNBQUE7RUFDQSx1QkFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtFQUdBLFlBQUE7RUFDQSw0Q0FBQTtBQUZKOztBQUlFO0VBQ0UsNkJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQURKOztBQUtFO0VBQ0UscUJBQUE7RUFDQSxvQkFBQTtBQUZKOztBQU1FO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSx5QkFBQTtBQUhKOztBQU1FO0VBQ0UsY0FBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7QUFISjs7QUFNRTtFQUNFLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0FBSEo7O0FBT0E7RUFDSSxxQkFBQTtFQUNBLGNBQUE7RUFDQSxvQkFBQTtFQUVBLGlCQUFBO0FBTEo7O0FBUUU7RUFDRSxlQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7QUFMSjs7QUFTQTtFQUNFLGFBQUE7RUFFQSxRQUFBLEVBQUEsNEJBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBUEY7O0FBV0E7RUFDRSxvQkFBQSxFQUFBLHVCQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0FBUkY7O0FBV0E7RUFDRSxZQUFBO0FBUkY7O0FBV0E7RUFDRSxjQUFBLEVBQUEsMENBQUE7RUFDQSw4QkFBQSxFQUFBLGlEQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxvQ0FBQTtBQVJGOztBQVdBLDRDQUFBO0FBQ0E7RUFDRTtJQUNFLDJCQUFBO0VBUkY7RUFVQTtJQUNFLHdCQUFBO0VBUkY7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi8vIEVzdGlsb3MgZ2VuZXJhbGVzXHJcbmlvbi1jb250ZW50IHtcclxuICAgIC0tYmFja2dyb3VuZDogI2ZmZmZmZjtcclxuICB9XHJcbiAgXHJcbiAgLy8gRXN0aWxvIGRlIGxhcyB0YXJqZXRhcyBkZSBsaWJyb3NcclxuICBpb24tY2FyZCB7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG4gICAgYm94LXNoYWRvdzogMCAycHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XHJcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgIG1hcmdpbjogMXB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICAgIC8vbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICAgIC8vd2lkdGg6IDEwMCU7XHJcbiAgICBwYWRkaW5nOiAwcHg7XHJcbiAgICBib3JkZXI6IDAuNXB4IHNvbGlkIHJnYmEoMjAyLCAyMDIsIDIwMiwgMC41KVxyXG4gIH1cclxuICBpb24tbGlzdHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgbWFyZ2luOiAwcHg7XHJcbiAgICBwYWRkaW5nOiAwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEJvdG9uZXMgZGVudHJvIGRlIGNhZGEgbGlicm9cclxuICBpb24tYnV0dG9uIHtcclxuICAgIC0tYmFja2dyb3VuZDogIzAwN2JmZjtcclxuICAgIC0tYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIH1cclxuICBcclxuICAvLyBFc3RpbG9zIGRlIGxhIHZhbG9yYWNpw4PCs24gZW4gZXN0cmVsbGFzXHJcbiAgLnJhdGluZyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG4gIH1cclxuICBcclxuICBpb24taWNvbiB7XHJcbiAgICBjb2xvcjogIzAwMDAwMDsgLy8gQ29sb3IgZG9yYWRvIHBhcmEgZXN0cmVsbGFzXHJcbiAgICBmb250LXNpemU6IDEuNXJlbTtcclxuICAgIG1hcmdpbi1yaWdodDogM3B4O1xyXG4gIH1cclxuXHJcbiAgLnJhdGluZyBpb24taWNvbiB7XHJcbiAgICBjb2xvcjogI2ZmZTYwMDsgLy8gQ29sb3IgZG9yYWRvIHBhcmEgZXN0cmVsbGFzXHJcbiAgICBmb250LXNpemU6IDEuNXJlbTtcclxuICAgIG1hcmdpbi1yaWdodDogM3B4O1xyXG4gIH1cclxuICBcclxuICAvLyBFc3RpbG8gZGVsIGJvdMODwrNuIGZsb3RhbnRlXHJcbmlvbi1mYWItYnV0dG9uIHtcclxuICAgIC0tYmFja2dyb3VuZDogIzAwN2JmZjsgLy8gQ29sb3IgZGUgZm9uZG8gYXp1bFxyXG4gICAgLS1jb2xvcjogd2hpdGU7IC8vIEljb25vIGVuIGNvbG9yIGJsYW5jb1xyXG4gICAgLS1ib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAvL2JveC1zaGFkb3c6IDBweCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcclxuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xyXG4gIH1cclxuICBcclxuICBpb24tZmFiIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGJvdHRvbTogMjBweDtcclxuICAgIHJpZ2h0OiAyMHB4O1xyXG4gIH1cclxuXHJcbiAgLy8gQ29udGVuZWRvciBkZSBsb3MgYm90b25lc1xyXG4uYWN0aW9uLWJ1dHRvbnMge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgLy9mbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGdhcDogM3B4OyAvKiBFc3BhY2lhZG8gZW50cmUgYm90b25lcyAqL1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi8vIEVzdGlsbyBnZW5lcmFsIGRlIGxvcyBib3RvbmVzXHJcbmlvbi1idXR0b24ge1xyXG4gIC0tYm9yZGVyLXJhZGl1czogNXB4OyAvKiBCb3JkZXMgcmVkb25kZWFkb3MgKi9cclxuICBmb250LXNpemU6IDAuOXJlbTtcclxuICBwYWRkaW5nOiAxcHg7XHJcbn1cclxuXHJcbi5hY3Rpb24tYnV0dG9ucyBpb24taWNvbntcclxuICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi5tb2RhbC1ib3R0b20ge1xyXG4gIC0taGVpZ2h0OiA3MHZoOyAvKiBBbHR1cmEgZGVsIG1vZGFsICg3MCUgZGUgbGEgcGFudGFsbGEpICovXHJcbiAgLS1ib3JkZXItcmFkaXVzOiAxNXB4IDE1cHggMCAwOyAvKiBCb3JkZXMgcmVkb25kZWFkb3Mgc29sbyBlbiBsYSBwYXJ0ZSBzdXBlcmlvciAqL1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBib3R0b206IDA7XHJcbiAgbGVmdDogMDtcclxuICByaWdodDogMDtcclxuICBhbmltYXRpb246IHNsaWRlLXVwIDAuM3MgZWFzZS1pbi1vdXQ7XHJcbn1cclxuXHJcbi8qIEFuaW1hY2nDg8KzbiBkZSBkZXNsaXphbWllbnRvIGhhY2lhIGFycmliYSAqL1xyXG5Aa2V5ZnJhbWVzIHNsaWRlLXVwIHtcclxuICBmcm9tIHtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMDAlKTtcclxuICB9XHJcbiAgdG8ge1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["CommonModule","FormsModule","IonicModule","LibroPage","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","LibrosPage_ion_card_41_Template_ion_button_click_14_listener","libro_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","verResenas","id","LibrosPage_ion_card_41_Template_ion_button_click_17_listener","editarLibro","LibrosPage_ion_card_41_Template_ion_button_click_20_listener","eliminarLibro","ɵɵadvance","ɵɵtextInterpolate","titulo","ɵɵtextInterpolate2","autor","anio_publicacion","descripcion","ɵɵtextInterpolate1","valoracion","LibrosPage","constructor","router","librosService","modalCtrl","nombreUsuario","libros","ngOnInit","userData","localStorage","getItem","usuario","JSON","parse","nombre","cargarUsuario","obtenerLibros","subscribe","response","error","console","libroId","navigate","estado","filter","libro","alert","abrirModalAgregarLibro","_this","_asyncToGenerator","modal","create","component","cssClass","backdropDismiss","present","abrirModalEditarLibro","_this2","componentProps","onDidDismiss","then","getStarArray","estrellas","valorRedondeado","Math","round","i","push","irPerfil","irLibros","irResenas","cerrarSesion","removeItem","ɵɵdirectiveInject","i1","Router","i2","LibrosService","i3","ModalController","selectors","decls","vars","consts","template","LibrosPage_Template","rf","ctx","LibrosPage_Template_ion_item_click_14_listener","LibrosPage_Template_ion_item_click_18_listener","LibrosPage_Template_ion_item_click_22_listener","LibrosPage_Template_ion_item_click_28_listener","ɵɵtemplate","LibrosPage_ion_card_41_Template","LibrosPage_Template_ion_fab_button_click_43_listener","ɵɵproperty","IonButton","IonButtons","IonCard","IonCardContent","IonCardHeader","IonCardSubtitle","IonCardTitle","IonContent","IonFab","IonFabButton","IonHeader","IonIcon","IonItem","IonLabel","IonList","IonListHeader","IonMenu","IonMenuButton","IonTitle","IonToolbar","i4","NgForOf","styles"],"sources":["C:\\proyectosIONIC\\librosFinal2\\src\\app\\pages\\libros\\libros.page.ts","C:\\proyectosIONIC\\librosFinal2\\src\\app\\pages\\libros\\libros.page.html"],"sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { LibrosService } from 'src/app/services/libros/libros.service';\r\nimport { LibroPage } from '../libro/libro.page';\r\nimport { ModalController } from '@ionic/angular'; // Asegúrate de importar ModalController\r\n@Component({\r\n  selector: 'app-libros',\r\n  templateUrl: './libros.page.html',\r\n  styleUrls: ['./libros.page.scss'],\r\n  standalone: true, // ✅ Define el componente como standalone\r\n    imports: [IonicModule, CommonModule, FormsModule] // ✅ Se importa IonicModule en lugar de componentes individuales\r\n  \r\n})\r\nexport class LibrosPage implements OnInit {\r\nnombreUsuario: string = 'Usuario'; // Nombre por defecto\r\nlibros: any[] = [{\r\n  id: 1,\r\n  titulo: \"Cien años de soledad\",\r\n  autor: \"Gabriel García Márquez\",\r\n  anio_publicacion: 1967,\r\n  descripcion: \"Una obra maestra de la literatura latinoamericana que narra la historia de la familia Buendía en el pueblo ficticio de Macondo.\"\r\n},\r\n{\r\n  id: 2,\r\n  titulo: \"1984\",\r\n  autor: \"George Orwell\",\r\n  anio_publicacion: 1949,\r\n  descripcion: \"Una novela distópica que presenta un futuro totalitario bajo la vigilancia constante del Gran Hermano.\"\r\n},\r\n{\r\n  id: 3,\r\n  titulo: \"Don Quijote de la Mancha\",\r\n  autor: \"Miguel de Cervantes\",\r\n  anio_publicacion: 1605,\r\n  descripcion: \"La historia del caballero Don Quijote y su escudero Sancho Panza en su lucha por la justicia y la aventura.\"\r\n},\r\n{\r\n  id: 4,\r\n  titulo: \"Orgullo y prejuicio\",\r\n  autor: \"Jane Austen\",\r\n  anio_publicacion: 1813,\r\n  descripcion: \"Una novela romántica sobre el amor y el matrimonio en la sociedad inglesa del siglo XIX.\"\r\n},\r\n{\r\n  id: 5,\r\n  titulo: \"El señor de los anillos\",\r\n  autor: \"J.R.R. Tolkien\",\r\n  anio_publicacion: 1954,\r\n  descripcion: \"Una de las obras de fantasía más influyentes, que sigue la lucha entre el bien y el mal en la Tierra Media.\"\r\n},\r\n{\r\n  id: 6,\r\n  titulo: \"Crimen y castigo\",\r\n  autor: \"Fiódor Dostoyevski\",\r\n  anio_publicacion: 1866,\r\n  descripcion: \"Un thriller psicológico sobre un joven que comete un asesinato y lucha con su conciencia.\"\r\n},\r\n{\r\n  id: 7,\r\n  titulo: \"El alquimista\",\r\n  autor: \"Paulo Coelho\",\r\n  anio_publicacion: 1988,\r\n  descripcion: \"Una novela inspiradora sobre la importancia de seguir los sueños y encontrar el destino.\"\r\n},\r\n{\r\n  id: 8,\r\n  titulo: \"Harry Potter y la piedra filosofal\",\r\n  autor: \"J.K. Rowling\",\r\n  anio_publicacion: 1997,\r\n  descripcion: \"El comienzo de la historia de Harry Potter y su ingreso al mundo de la magia en Hogwarts.\"\r\n},\r\n{\r\n  id: 9,\r\n  titulo: \"Los juegos del hambre\",\r\n  autor: \"Suzanne Collins\",\r\n  anio_publicacion: 2008,\r\n  descripcion: \"Una novela de ciencia ficción donde jóvenes deben luchar por su supervivencia en una competencia mortal.\"\r\n},\r\n{\r\n  id: 10,\r\n  titulo: \"Rayuela\",\r\n  autor: \"Julio Cortázar\",\r\n  anio_publicacion: 1963,\r\n  descripcion: \"Una novela experimental que permite múltiples formas de lectura y aborda temas filosóficos y existenciales.\"\r\n}\r\n];\r\n\r\n  constructor(private router: Router, private librosService: LibrosService,private modalCtrl: ModalController) {}\r\n\r\n  ngOnInit() {\r\n    // Obtener datos del usuario desde el localStorage\r\n    const userData = localStorage.getItem('userData');\r\n    if (userData) {\r\n      const usuario = JSON.parse(userData);\r\n      this.nombreUsuario = usuario.nombre || 'Usuario';\r\n    }\r\n    this.cargarUsuario();\r\n    this.obtenerLibros();\r\n\r\n  }\r\n  cargarUsuario() {\r\n    const userData = localStorage.getItem('userData');\r\n    if (userData) {\r\n      const usuario = JSON.parse(userData);\r\n      this.nombreUsuario = usuario.nombre || 'Usuario';\r\n    }\r\n  }\r\n\r\n  obtenerLibros() {\r\n    this.librosService.obtenerLibros().subscribe(response => {\r\n      this.libros = response;\r\n    }, error => {\r\n      console.error('Error al obtener los libros', error);\r\n    });\r\n  }\r\n\r\n  verResenas(libroId: number) {\r\n    this.router.navigate(['/resenas', libroId]);\r\n  }\r\n\r\n  editarLibro(libroId: number) {\r\n    this.router.navigate(['/libro', libroId]);\r\n  }\r\n\r\n  eliminarLibro(libroId: number) {\r\n    // Lógica para eliminar un libro\r\n    this.librosService.eliminarLibro(libroId).subscribe(response => {\r\n      if (response.estado) {\r\n        this.libros = this.libros.filter(libro => libro.id !== libroId);\r\n        alert('Libro eliminado correctamente.');\r\n      } else {\r\n        alert('No se pudo eliminar el libro.');\r\n      }\r\n    });\r\n  }\r\n\r\n  async abrirModalAgregarLibro() {\r\n    const modal = await this.modalCtrl.create({\r\n      component: LibroPage,\r\n      cssClass: 'modal-bottom',\r\n      backdropDismiss: false\r\n    });\r\n  \r\n    await modal.present(); // Asegurar que el modal se presente correctamente\r\n  }\r\n  \r\n  async abrirModalEditarLibro(libro: any) {\r\n    const modal = await this.modalCtrl.create({\r\n      component: LibroPage,\r\n      componentProps: { libro },\r\n      cssClass: 'modal-bottom', // <-- Clase para abrir desde abajo\r\n      backdropDismiss: false\r\n    });\r\n  \r\n    modal.onDidDismiss().then(() => this.obtenerLibros());\r\n    return modal.present();\r\n  }\r\n\r\n  getStarArray(valoracion: number): string[] {\r\n    const estrellas = [];\r\n    const valorRedondeado = Math.round(valoracion * 2) / 2; // Redondear a 0.5 más cercano\r\n\r\n    for (let i = 1; i <= 5; i++) {\r\n      if (i <= valorRedondeado) {\r\n        estrellas.push('star'); // Estrella llena ⭐\r\n      } else if (i - 0.5 === valorRedondeado) {\r\n        estrellas.push('star-half'); // Media estrella ✰\r\n      } else {\r\n        estrellas.push('star-outline'); // Estrella vacía ☆\r\n      }\r\n    }\r\n    return estrellas;\r\n  }\r\n\r\n\r\n\r\n\r\n  irPerfil() {\r\n    this.router.navigate(['/perfil']); // Navegar a la página de perfil\r\n  }\r\n\r\n  irLibros() {\r\n    this.router.navigate(['/libros']); // Navegar a la página de perfil\r\n  }\r\n\r\n  irResenas() {\r\n    this.router.navigate(['/resenas']); // Navegar a la página de perfil\r\n  }\r\n\r\n  cerrarSesion() {\r\n    localStorage.removeItem('userData'); // Eliminar datos de sesión\r\n    this.router.navigate(['/login']); // Redirigir al login\r\n  }\r\n}\r\n","<!-- Menú lateral -->\r\n<ion-menu contentId=\"main-content\">\r\n  <ion-header>\r\n    <ion-toolbar>\r\n      <ion-title>Menú</ion-title>\r\n    </ion-toolbar>\r\n  </ion-header>\r\n\r\n  <ion-content class=\"ion-padding\">\r\n    <ion-list>\r\n      <!-- Nombre del usuario logueado -->\r\n      <ion-item>\r\n        <ion-icon name=\"person-circle-outline\" slot=\"start\"></ion-icon>\r\n        <ion-label>\r\n          <h2>{{ nombreUsuario }}</h2>\r\n        </ion-label>\r\n      </ion-item>\r\n\r\n      <ion-list-header>Opciones</ion-list-header>\r\n\r\n      <!-- Opción \"Libros\" -->\r\n      <ion-item (click)=\"irLibros()\">\r\n        <ion-icon name=\"book-outline\" slot=\"start\"></ion-icon>\r\n        <ion-label>Libros</ion-label>\r\n      </ion-item>\r\n\r\n      <!-- Opción \"Reseñas\" -->\r\n      <ion-item (click)=\"irResenas()\">\r\n        <ion-icon name=\"star-outline\" slot=\"start\"></ion-icon>\r\n        <ion-label>Reseñas</ion-label>\r\n      </ion-item>\r\n\r\n      <!-- Opción \"Perfil\" -->\r\n      <ion-item (click)=\"irPerfil()\">\r\n        <ion-icon name=\"person-outline\" slot=\"start\"></ion-icon>\r\n        <ion-label>Perfil</ion-label>\r\n      </ion-item>\r\n\r\n      <ion-list-header>Acciones</ion-list-header>\r\n\r\n      <!-- Opción \"Cerrar Sesión\" -->\r\n      <ion-item (click)=\"cerrarSesion()\">\r\n        <ion-icon name=\"log-out-outline\" slot=\"start\"></ion-icon>\r\n        <ion-label>Cerrar Sesión</ion-label>\r\n      </ion-item>\r\n    </ion-list>\r\n  </ion-content>\r\n</ion-menu>\r\n\r\n<!-- Contenido principal -->\r\n<div class=\"ion-page\" id=\"main-content\">\r\n  <ion-header>\r\n    <ion-toolbar>\r\n      <ion-buttons slot=\"start\">\r\n        <ion-menu-button></ion-menu-button>\r\n      </ion-buttons>\r\n      <ion-title>Libros</ion-title>\r\n    </ion-toolbar>\r\n  </ion-header>\r\n\r\n  <ion-content class=\"ion-padding\">\r\n    <ion-list>\r\n      <ion-card *ngFor=\"let libro of libros\">\r\n        <ion-card-header>\r\n          <ion-card-title>{{ libro.titulo }}</ion-card-title>\r\n          <ion-card-subtitle>{{ libro.autor }} - {{ libro.anio_publicacion }}</ion-card-subtitle>\r\n        </ion-card-header>\r\n\r\n        <ion-card-content>\r\n          <p>{{ libro.descripcion }}</p>\r\n\r\n          <!-- Valoración en una escala de 1 a 10 -->\r\n          <div class=\"rating\">\r\n            <ion-icon name=\"star\" class=\"star-icon\"></ion-icon>\r\n            <span class=\"calificacion\">{{ libro.valoracion }}/10</span>\r\n          </div>\r\n\r\n          <!-- Botones de acción -->\r\n          <div class=\"action-buttons\">\r\n            <ion-button expand=\"block\" color=\"primary\" (click)=\"verResenas(libro.id)\">\r\n              <ion-icon name=\"star-outline\" slot=\"start\"></ion-icon>\r\n              Reseñas\r\n            </ion-button>\r\n\r\n            <ion-button expand=\"block\" color=\"secondary\" (click)=\"editarLibro(libro.id)\">\r\n              <ion-icon name=\"create-outline\" slot=\"start\"></ion-icon>\r\n              Editar\r\n            </ion-button>\r\n\r\n            <ion-button expand=\"block\" color=\"danger\" (click)=\"eliminarLibro(libro.id)\">\r\n              <ion-icon name=\"trash-outline\" slot=\"start\"></ion-icon>\r\n              Eliminar\r\n            </ion-button>\r\n          </div>\r\n        </ion-card-content>\r\n      </ion-card>\r\n    </ion-list>\r\n\r\n    <!-- Botón Flotante en la Esquina Inferior Derecha -->\r\n    <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\r\n      <ion-fab-button (click)=\"abrirModalAgregarLibro()\">\r\n        <ion-icon name=\"add-outline\" style=\"color: white;\"></ion-icon>\r\n      </ion-fab-button>\r\n    </ion-fab>\r\n  </ion-content>\r\n</div>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}