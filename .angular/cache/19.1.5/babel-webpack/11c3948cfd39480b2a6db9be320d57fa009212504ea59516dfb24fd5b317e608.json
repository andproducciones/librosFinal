{"ast":null,"code":"var _ResenaPage;\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/app/services/resenas/resenas.service\";\nexport class ResenaPage {\n  constructor(modalCtrl, fb, resenasService) {\n    this.modalCtrl = modalCtrl;\n    this.fb = fb;\n    this.resenasService = resenasService;\n    this.isEdit = false;\n    this.resenaId = null;\n    this.resenaForm = this.fb.group({\n      calificacion: ['', [Validators.required, Validators.min(1), Validators.max(10)]],\n      comentario: ['', Validators.required]\n    });\n  }\n  ngOnInit() {}\n  setResena(resena) {\n    if (resena) {\n      this.isEdit = true;\n      this.resenaId = resena.id;\n      this.resenaForm.patchValue(resena);\n    }\n  }\n  cerrarModal() {\n    this.modalCtrl.dismiss();\n  }\n  guardarResena() {\n    if (this.isEdit) {\n      this.resenasService.editarResena(this.resenaId, this.resenaForm.value).subscribe(response => {\n        this.modalCtrl.dismiss(response);\n      });\n    } else {\n      this.resenasService.agregarResena(this.resenaForm.value).subscribe(response => {\n        this.modalCtrl.dismiss(response);\n      });\n    }\n  }\n}\n_ResenaPage = ResenaPage;\n_ResenaPage.ɵfac = function ResenaPage_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || _ResenaPage)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ResenasService));\n};\n_ResenaPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _ResenaPage,\n  selectors: [[\"app-resena\"]],\n  standalone: false,\n  decls: 19,\n  vars: 4,\n  consts: [[\"slot\", \"end\"], [3, \"click\"], [\"name\", \"close-outline\"], [1, \"ion-padding\"], [3, \"ngSubmit\", \"formGroup\"], [\"position\", \"floating\"], [\"formControlName\", \"calificacion\", \"type\", \"number\", \"min\", \"1\", \"max\", \"10\"], [\"formControlName\", \"comentario\"], [\"expand\", \"block\", \"type\", \"submit\", 3, \"disabled\"]],\n  template: function ResenaPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-buttons\", 0)(5, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function ResenaPage_Template_ion_button_click_5_listener() {\n        return ctx.cerrarModal();\n      });\n      i0.ɵɵelement(6, \"ion-icon\", 2);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(7, \"ion-content\", 3)(8, \"form\", 4);\n      i0.ɵɵlistener(\"ngSubmit\", function ResenaPage_Template_form_ngSubmit_8_listener() {\n        return ctx.guardarResena();\n      });\n      i0.ɵɵelementStart(9, \"ion-item\")(10, \"ion-label\", 5);\n      i0.ɵɵtext(11, \"Calificaci\\u00F3n (1 - 10)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"ion-input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"ion-item\")(14, \"ion-label\", 5);\n      i0.ɵɵtext(15, \"Comentario\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"ion-textarea\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"ion-button\", 8);\n      i0.ɵɵtext(18);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.isEdit ? \"Editar Rese\\u00F1a\" : \"Agregar Nueva Rese\\u00F1a\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.resenaForm);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"disabled\", ctx.resenaForm.invalid);\n      i0.ɵɵadvance();\n      i0.ɵɵtextInterpolate1(\" \", ctx.isEdit ? \"Actualizar Rese\\u00F1a\" : \"Agregar Rese\\u00F1a\", \" \");\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.NgControlStatus, i2.NgControlStatusGroup, i1.IonButton, i1.IonButtons, i1.IonContent, i1.IonHeader, i1.IonIcon, i1.IonInput, i1.IonItem, i1.IonLabel, i1.IonTextarea, i1.IonTitle, i1.IonToolbar, i1.NumericValueAccessor, i1.TextValueAccessor, i1.IonMinValidator, i1.IonMaxValidator, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["Validators","ResenaPage","constructor","modalCtrl","fb","resenasService","isEdit","resenaId","resenaForm","group","calificacion","required","min","max","comentario","ngOnInit","setResena","resena","id","patchValue","cerrarModal","dismiss","guardarResena","editarResena","value","subscribe","response","agregarResena","i0","ɵɵdirectiveInject","i1","ModalController","i2","FormBuilder","i3","ResenasService","selectors","standalone","decls","vars","consts","template","ResenaPage_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ResenaPage_Template_ion_button_click_5_listener","ɵɵelement","ResenaPage_Template_form_ngSubmit_8_listener","ɵɵadvance","ɵɵtextInterpolate","ɵɵproperty","invalid","ɵɵtextInterpolate1"],"sources":["C:\\proyectosIONIC\\librosFinal2\\src\\app\\pages\\resena\\resena.page.ts","C:\\proyectosIONIC\\librosFinal2\\src\\app\\pages\\resena\\resena.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { ResenasService } from 'src/app/services/resenas/resenas.service';\r\n\r\n@Component({\r\n  selector: 'app-resena',\r\n  templateUrl: './resena.page.html',\r\n  styleUrls: ['./resena.page.scss'],\r\n  standalone: false\r\n})\r\nexport class ResenaPage implements OnInit {\r\n  resenaForm: FormGroup;\r\n  isEdit = false;\r\n  resenaId: number | null = null;\r\n\r\n  constructor(\r\n    private modalCtrl: ModalController,\r\n    private fb: FormBuilder,\r\n    private resenasService: ResenasService\r\n  ) {\r\n    this.resenaForm = this.fb.group({\r\n      calificacion: ['', [Validators.required, Validators.min(1), Validators.max(10)]],\r\n      comentario: ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  setResena(resena: any) {\r\n    if (resena) {\r\n      this.isEdit = true;\r\n      this.resenaId = resena.id;\r\n      this.resenaForm.patchValue(resena);\r\n    }\r\n  }\r\n\r\n  cerrarModal() {\r\n    this.modalCtrl.dismiss();\r\n  }\r\n\r\n  guardarResena() {\r\n    if (this.isEdit) {\r\n      this.resenasService.editarResena(this.resenaId!, this.resenaForm.value).subscribe(response => {\r\n        this.modalCtrl.dismiss(response);\r\n      });\r\n    } else {\r\n      this.resenasService.agregarResena(this.resenaForm.value).subscribe(response => {\r\n        this.modalCtrl.dismiss(response);\r\n      });\r\n    }\r\n  }\r\n}","<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title>{{ isEdit ? 'Editar Reseña' : 'Agregar Nueva Reseña' }}</ion-title>\r\n    <ion-buttons slot=\"end\">\r\n      <ion-button (click)=\"cerrarModal()\">\r\n        <ion-icon name=\"close-outline\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-padding\">\r\n  <form [formGroup]=\"resenaForm\" (ngSubmit)=\"guardarResena()\">\r\n    <ion-item>\r\n      <ion-label position=\"floating\">Calificación (1 - 10)</ion-label>\r\n      <ion-input formControlName=\"calificacion\" type=\"number\" min=\"1\" max=\"10\"></ion-input>\r\n    </ion-item>\r\n\r\n    <ion-item>\r\n      <ion-label position=\"floating\">Comentario</ion-label>\r\n      <ion-textarea formControlName=\"comentario\"></ion-textarea>\r\n    </ion-item>\r\n\r\n    <ion-button expand=\"block\" type=\"submit\" [disabled]=\"resenaForm.invalid\">\r\n      {{ isEdit ? 'Actualizar Reseña' : 'Agregar Reseña' }}\r\n    </ion-button>\r\n  </form>\r\n</ion-content>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}